add_library(GAME_OF_LIFE game_of_life.c)

if (game_of_life_tests)
	add_executable(GAME_OF_LIFE_TESTS ${CMAKE_CURRENT_SOURCE_DIR}/tests/game_of_life.c)
	target_link_libraries(GAME_OF_LIFE_TESTS PRIVATE GAME_OF_LIFE)
	target_include_directories(GAME_OF_LIFE_TESTS PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})

	message("Created game of life tests")
	target_include_directories(GAME_OF_LIFE_TESTS PRIVATE ${CMAKE_SOURCE_DIR}/unity/)
	target_link_libraries(GAME_OF_LIFE_TESTS PRIVATE UNITY)
	enable_testing()
	add_test(GAME_OF_LIFE_TESTING GAME_OF_LIFE_TESTS)
endif()
